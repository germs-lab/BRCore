% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_identified_core.R
\name{plot_identified_core}
\alias{plot_identified_core}
\title{Plot \% Bray-Curtis accumulation over ranked OTU/ASVs}
\usage{
plot_identified_core(
  bray_curtis_ranked,
  elbow,
  lastCall,
  increase_value = 0.02
)
}
\arguments{
\item{bray_curtis_ranked}{A data frame/tibble as returned by
\code{identify_core()$bray_curtis_ranked}, containing at least columns
\code{rank} and \code{proportionBC}.}

\item{elbow}{Integer; elbow index (typically \code{identify_core(...)$elbow}).}

\item{lastCall}{Integer; threshold index (typically
\code{identify_core(...)$bc_increase}).}

\item{increase_value}{Numeric in \code{[0,1]} used only to format the label
for the threshold line (e.g., \code{0.02} -> \dQuote{Last 2\\%}). Defaults
to \code{0.02}. It does not change the plotted cuts.}
}
\value{
A \pkg{ggplot2} object.
}
\description{
Visualize the cumulative normalized mean Bray-Curtis curve returned by
\link[=identify_core]{identify_core()}, with vertical markers for the elbow
cut and the increase-threshold cut (labeled from \code{increase_value}).
}
\details{
The function converts the \code{rank} column to integers and zooms the x-axis
to the first \code{1.2 * lastCall} ranks for readability. Label positions are
computed dynamically from the observed \code{proportionBC} range to avoid
overlap with points and axes.
}
\examples{
\dontshow{if (requireNamespace("phyloseq", quietly = TRUE)) withAutoprint(\{ # examplesIf}
\donttest{
  # Example with the package switchgrass dataset
  data("switchgrass", package = "BRCore")

  # Identify core taxa
  res <- identify_core(
    physeq_obj    = switchgrass,
    priority_var  = "sampling_date",
    increase_value = 0.02,
    seed          = 4
  )

  # Plot using the returned curve and cut indices; label from increase_value
  plot_identified_core(
    bray_curtis_ranked = res$bray_curtis_ranked,
    elbow              = res$elbow,
    lastCall           = res$bc_increase,
    increase_value     = res$increase_value
  )
}
\dontshow{\}) # examplesIf}
}
\seealso{
\link[=identify_core]{identify_core()}
}
